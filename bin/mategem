#!/bin/sh

usage()
{
   echo "Usage: $(basename $0) <gem>" 1>&2
   exit 1
}

using_rvm()
{
    which ruby | grep -qs .rvm
}

get_gemdir()
{
    if using_rvm; then
        rvm gemset gemdir
    else
        gem environment gemdir
    fi
}

GEM="$1"
EDITOR=$(echo $(basename $0) | sed 's,gem$,,')

[ -z "$GEM" ] && usage
$EDITOR "$(get_gemdir)/gems/$GEM"
